@import "tailwindcss";
@import "@som/ui-components/styles";
@plugin "@tailwindcss/typography";

@theme {
  /* Re-declaring key colors in the @theme block allows Tailwind to use them as utilities */
  --color-bg-canvas: var(--bg-canvas);
  --color-bg-panel: var(--bg-panel);
  --color-bg-surface: var(--bg-surface);
  --color-bg-hover: var(--bg-hover);
  --color-border-color: var(--border-color);
  --color-border-subtle: var(--border-subtle);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-accent-blue: var(--accent-blue);
  --color-accent-green: var(--accent-green);
  --color-accent-yellow: var(--accent-yellow);
  --color-accent-red: var(--accent-red);
  --color-accent-orange: var(--accent-orange);

  --font-ui: var(--font-ui);
  --font-mono: var(--font-mono);
}

:root {
  /* Local mappings specific to policy-governance app */
  --color-blueprint: var(--accent-blue);
  --color-compliant: var(--accent-green);
  --color-at-risk: var(--accent-yellow);
  --color-critical: var(--accent-red);
}

body {
  background-color: var(--bg-canvas);
  color: var(--text-primary);
  font-family: var(--font-ui);
  margin: 0;
  min-height: 100vh;
  @apply antialiased;
}

/* Custom Scrollbar for Deep Void feel */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-700 rounded-full hover:bg-slate-500;
}

/* Custom prose styling for policy documents */
.prose-policy {
  @apply prose prose-invert prose-slate max-w-none;
  @apply prose-headings:font-bold prose-headings:text-slate-100;
  @apply prose-p:text-slate-300 prose-p:leading-relaxed prose-p:text-[15px];
  @apply prose-strong:text-white prose-em:text-blue-400;
  @apply prose-ul:text-slate-300 prose-ol:text-slate-300;
  @apply prose-li:text-slate-300 prose-li:leading-relaxed;
}

/* Actor mention chips in TipTap editor */
.mention {
  @apply px-2 py-0.5 rounded bg-blue-900/30 text-blue-400 border border-blue-900/50;
  @apply font-mono text-xs uppercase tracking-wider cursor-pointer;
  @apply hover:bg-blue-900/50 transition-colors;
}

/* Obligation highlight in document */
.obligation-highlight {
  @apply bg-blue-900/20 border-b-2 border-blue-500/50;
  @apply transition-colors cursor-pointer;
}

.obligation-highlight:hover {
  @apply bg-blue-900/30 border-blue-500;
}

/* Diff view styles */
.diff-added {
  @apply bg-green-900/30 text-green-300 border-b-2 border-green-500;
}

.diff-removed {
  @apply bg-red-900/30 text-red-300 line-through border-b-2 border-red-500;
}

.diff-modified {
  @apply bg-yellow-900/30 text-yellow-300 border-b-2 border-yellow-500;
}

/* TipTap editor focus styles */
.ProseMirror {
  @apply focus:outline-none min-h-[500px];
}

.ProseMirror p.is-editor-empty:first-child::before {
  @apply text-slate-500;
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}